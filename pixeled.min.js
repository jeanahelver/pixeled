!function(e){const t=document.createElement("canvas");t.style.imageRendering="-moz-crisp-edges",t.style.imageRendering="-webkit-crisp-edges",t.style.imageRendering="pixelated",t.style.imageRendering="crisp-edges";const l=t.getContext("2d");document.body.appendChild(t);const i=new Image;i.src="spritesheet.png";const o=new Image;o.src="font.png",void 0===e.PIX&&(e.PIX=function(){const r={};let h=minHeight=128,n=()=>{e.innerWidth*h>e.innerHeight*minHeight?(t.height=h,t.style.height="100vh",t.width=Math.floor(e.innerWidth/e.innerHeight*t.height)+1,t.style.width=t.width/(t.height/100)+"vh",r.width=t.width-2,r.height=t.height-2):(t.width=minHeight,t.style.width="100vw",t.height=Math.floor(e.innerHeight/e.innerWidth*t.width)+1,t.style.height=t.height/(t.width/100)+"vw",r.width=t.width-2,r.height=t.height-2)};n(),e.addEventListener("resize",n),r.setSize=((e,t)=>{h=e,minHeight=t,n()});const a={red:255,green:255,blue:255,alpha:1};r.setColor=((e,t,l,i)=>{"number"==typeof e?g(e,t,l,i):f(e)});let d,g=(e=a.red,t=a.green,i=a.blue,o=a.alpha)=>{a.red=e,a.green=t,a.blue=i,l.fillStyle="rgb("+e+","+t+","+i+")",l.globalAlpha=o/255},f=e=>{a.red=void 0===e.red?a.red:e.red,a.green=void 0===e.green?a.green:e.green,a.blue=void 0===e.blue?a.blue:e.blue,l.fillStyle="rgb("+a.red+","+a.green+","+a.blue+")",l.globalAlpha=void 0===e.alpha?l.globalAlpha:e.alpha/255},p=0;return r.refresh=(t=>{d=t-p,p=t,e.requestAnimationFrame(r.refresh),"undefined"!=typeof draw&&draw(d)}),r.sprite=((e,t,o,r,h,n)=>{null==o?l.drawImage(i,Math.floor(e),Math.floor(t)):l.drawImage(i,Math.floor(o),Math.floor(r),Math.floor(h),Math.floor(n),Math.floor(e),Math.floor(t),Math.floor(h),Math.floor(n))}),r.fillRect=((e,t,i,o)=>{l.fillRect(Math.floor(e),Math.floor(t),Math.floor(i),Math.floor(o))}),r.pixel=((e,t)=>{l.fillRect(Math.floor(e),Math.floor(t),1,1)}),r.line=((e,t,l,i)=>{e=Math.floor(e),t=Math.floor(t),l=Math.floor(l),i=Math.floor(i);let o=Math.abs(l-e),h=e<l?1:-1,n=Math.abs(i-t),a=t<i?1:-1,d=(o>n?o:-n)/2;for(;r.pixel(e,t),e!==l||t!==i;){let l=d;l>-o&&(d-=n,e+=h),l<n&&(d+=o,t+=a)}}),r.rect=((e,t,l,i)=>{for(let o=0;o<l;o++)r.pixel(e+o,t),r.pixel(e+o,t+i-1);for(let o=1;o<i-1;o++)r.pixel(e,t+o),r.pixel(e+l-1,t+o)}),r.circle=((e,t,l)=>{let i=(e,t,l,i)=>{0===l?(r.pixel(e,t+i),r.pixel(e,t-i),r.pixel(e+i,t),r.pixel(e-i,t)):l===i?(r.pixel(e+l,t+i),r.pixel(e-l,t+i),r.pixel(e+l,t-i),r.pixel(e-l,t-i)):l<i&&(r.pixel(e+l,t+i),r.pixel(e-l,t+i),r.pixel(e+l,t-i),r.pixel(e-l,t-i),r.pixel(e+i,t+l),r.pixel(e-i,t+l),r.pixel(e+i,t-l),r.pixel(e-i,t-l))},o=0,h=l,n=(5-4*l)/4;for(i(e,t,o,h);o<h;)o++,n+=n<0?2*o+1:2*(o- --h)+1,i(e,t,o,h)}),r.print=((e,t,i)=>{for(let r=0;r<i.length;r++){let h=i.charCodeAt(r);l.drawImage(o,h%16*8,8*Math.floor(h/16),8,8,Math.floor(e)+8*r,Math.floor(t),8,8)}}),i.onload=function(){o.onload=function(){e.requestAnimationFrame(r.refresh)}},r}())}(window);
